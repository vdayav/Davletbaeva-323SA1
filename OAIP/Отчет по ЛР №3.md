---
name: " Выполнила Давлетбаева Илона"
tags:
  - practic
  - mermaid
  - sequence
---
## Составление блок-схем с помощью mermaid - sequence-диаграммы

**Цель работы:** Научиться создавать sequence-диаграммы с помощью mermaid

**Задачи работы:**
1. Изучить теоретический материал
2. Составить sequence диаграммы по заданию
### Практическое часть

#### Задание 1.

Напишите Sequence-диаграмму отправки ping-запроса на сервер.

**Условия**: В диаграмме должно быть:
- Запрос и ответ от сервера
```mermaid
sequenceDiagram

    participant Клиент

    participant Сервер

    Клиент->Сервер: Пинг-запрос (ICMP Echo Request)

    activate Сервер

    Сервер-->Клиент: пинг-ответ (ICMP Echo Reply)

    deactivate Сервер
```
#### Задание 2.

В теоретической части рассматривался пример авторизации на сайте. Напишите подобную sequence-диаграмму авторизации на сайте, но с двойной аутентификацией.

**Условия**: В диаграмме должно быть:
- Ввод пароля
- Двойная аутентификация (например по смс)
```mermaid
sequenceDiagram

    participant Пользователь

    participant Веб-сайт

    participant СерверАутентификации

    participant СМС-Сервис

  

    Пользователь->>Веб-сайт: Ввод логина и пароля

    activate Веб-сайт

    Веб-сайт->>СерверАутентификации: Проверка логина/пароля

    activate СерверАутентификации

    СерверАутентификации-->>Веб-сайт: Пароль верный

    deactivate СерверАутентификации

    Веб-сайт->>СМС-Сервис: Запрос на отправку кода

    activate СМС-Сервис

    СМС-Сервис-->>Пользователь: SMS с кодом подтверждения

    СМС-Сервис-->>Веб-сайт: Код отправлен

    deactivate СМС-Сервис

    Веб-сайт-->>Пользователь: Запрос ввода SMS-кода

    deactivate Веб-сайт

    Пользователь->>Веб-сайт: Ввод SMS-кода

    activate Веб-сайт

    Веб-сайт->>СерверАутентификации: Проверка SMS-кода

    activate СерверАутентификации

    СерверАутентификации-->>Веб-сайт: Код верный

    deactivate СерверАутентификации

    Веб-сайт-->>Пользователь: Успешная авторизация

    deactivate Веб-сайт
```
#### Задание 3.

Представьте что вы кассир в Пятерочке. К вам приходит покупатель с покупками. Визуализируйте вашу работу с покупателем и кассой.

**Условия**: 
- Должно быть как минимум 4 объекта
```mermaid
sequenceDiagram

participant Покупатель

participant Кассир

participant КассовыйАппарат

participant ТерминалОплаты

Покупатель->>Кассир: Передает товары для сканирования

activate Кассир
 

Кассир->>КассовыйАппарат: Сканирует штрих-код товара

activate КассовыйАппарат

КассовыйАппарат-->>Кассир: Цена и название товара

deactivate КассовыйАппарат

loop Для каждого товара

Кассир->>КассовыйАппарат: Сканирование следующего товара

activate КассовыйАппарат

КассовыйАппарат-->>Кассир: Информация о товаре

deactivate КассовыйАппарат

end

Кассир->>КассовыйАппарат: Запрос итоговой суммы

activate КассовыйАппарат

КассовыйАппарат-->>Кассир: Общая сумма к оплате

deactivate КассовыйАппарат

  

Кассир-->>Покупатель: Сообщает итоговую сумму

deactivate Кассир

Покупатель->>Кассир: Предлагает способ оплаты

activate Кассир

Кассир->>КассовыйАппарат: Выбор способа оплаты

activate КассовыйАппарат

КассовыйАппарат-->>ТерминалОплаты: Подготовка к оплате

activate ТерминалОплаты
  
ТерминалОплаты-->>Покупатель: Запрос на приложение карты/телефона

Покупатель->>ТерминалОплаты: Прикладывает карту/телефон

ТерминалОплаты-->>ТерминалОплаты: Обработка платежа


ТерминалОплаты-->>КассовыйАппарат: Подтверждение оплаты

deactivate ТерминалОплаты

КассовыйАппарат-->>Кассир: Чек готов к печати

deactivate КассовыйАппарат


Кассир->>КассовыйАппарат: Печать чека

activate КассовыйАппарат

КассовыйАппарат-->>Кассир: Чек напечатан

deactivate КассовыйАппарат

Кассир-->>Покупатель: Передает чек и товары

deactivate Кассир

Покупатель-->>Кассир: Благодарит
```
#### Задание 4*.

Представьте что вы осуществляете DDoS атаку на Сервер. Визуализируйте это в диаграмме.

**Условия**:
- Хакер осуществляет атаку асинхронно.
- Нужно показать как сервер перестаёт отвечать на вопросы
```mermaid
sequenceDiagram
    participant Хакер
    participant Ботнет
    participant ЛегитимныйПользователь
    participant Сервер

    Хакер->>Ботнет: Команда на начало DDoS-атаки
    activate Ботнет
    
    par Асинхронная атака
        loop Многократные запросы
            Ботнет->>Сервер: HTTP-запросы (GET/POST)
            activate Сервер
            Сервер->>Сервер: Обработка запроса (высокая нагрузка)
            Сервер-->>Ботнет: Медленный ответ/таймаут
            deactivate Сервер
        end
    and
        loop Флуд соединениями
            Ботнет->>Сервер: SYN-пакеты (TCP flood)
            activate Сервер
            Сервер->>Сервер: Исчерпание ресурсов памяти
            Сервер-->>Ботнет: Нет ответа на некоторые запросы
            deactivate Сервер
        end
    end

    ЛегитимныйПользователь->>Сервер: Легитимный запрос
    activate Сервер
    Сервер->>Сервер: Перегрузка CPU/памяти
    Сервер-->>ЛегитимныйПользователь: Таймаут/ошибка 503
    deactivate Сервер
    
    loop Продолжение атаки
        Ботнет->>Сервер: Новые волны запросов
        activate Сервер
        Сервер->>Сервер: Полная перегрузка ресурсов
        Сервер-->>Ботнет: Connection refused
        deactivate Сервер
    end

    ЛегитимныйПользователь->>Сервер: Повторный запрос
    Сервер-->>ЛегитимныйПользователь: Сервер недоступен
    
    Ботнет-->>Хакер: Отчет об успешной атаке
    deactivate Ботнет
```

