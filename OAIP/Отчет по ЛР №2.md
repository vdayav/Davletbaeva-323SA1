---
name: " Выполнила Давлетбаева Илона"
tags:
  - block_diagrams
  - practic
  - mermaid
---
## Составление блок-схем с помощью mermaid

**Цель работы:** Научиться создавать блок-схемы с помощью mermaid

**Задачи работы:**
1. Изучить теоретический материал
2. Составить блок-схемы по заданию

**Критерии оценки:**
1. Правильность составленных блок-схем
2. Полнота составленных блок-схем
3. Выполнение дополнительного задания
### Практическая часть

#### Задание 1.

Напишите блок схему отправки ping с устройства на устройство.

**Условия**: В блок схеме должно быть: 
- блоки ввода данных для ip
- как минимум один цикл
- блок вывода данных

```mermaid
flowchart TD

    A(["Начало: Отправка пакета"]) --> B["Получить IP назначения из пакета"]

    B --> C["Поиск в таблице маршрутизации<br>IP"]

    C --> D{"Найден маршрут?"}

    D -- Нет --> E["Отбросить пакет"]

    E --> F["Пакет потерян"]

    D -- Да --> G["Получить next_hop и метрику"]

    G --> H["Передать пакет следующему узлу"]

    I["Пакет прибывает на OSPF-маршрутизатор"] --> J["Обновить TTL: ttl = ttl - 1"]

    J --> K{"ttl = 0?"}

    K -- Да --> L["Отбросить пакет<br>"]

    K -- Нет --> M["Поиск в таблице маршрутизации"]

    M --> N{"Достигнут пункт назначения?"}

    N -- Нет --> O["Выбрать следующий hop<br>на основе SPF-дерева"]

    O --> I

    H --> I

    N -- Да --> P["Пакет доставлен"]

    L --> F

    P --> n1["Конец"]

    F --> n1
```

#### Задание 2.

Вспомните как работает протокол ospf, а в частности его алгоритм поиска кратчайшего пути. Составьте блок-схему отправки сообщения с одного устройства до другого, которые объединены несколькими маршрутизаторами с ospf протоколом.

**Условия**: В блок схеме должно быть: 
- должно быть как минимум одно условие
- должен быть как минимум один цикл
- должна быть как минимум одна определённая переменная
```mermaid
flowchart TD

    A(["Начало: Отправка пакета"]) --> B["Получить IP назначения из пакета"]

    B --> C["Поиск в таблице маршрутизации<br>IP"]

    C --> D{"Найден маршрут?"}

    D -- Нет --> E["Отбросить пакет"]

    E --> F["Пакет потерян"]

    D -- Да --> G["Получить next_hop и метрику"]

    G --> H["Передать пакет следующему узлу"]

    I["Пакет прибывает на OSPF-маршрутизатор"] --> J["Обновить TTL: ttl = ttl - 1"]

    J --> K{"ttl = 0?"}

    K -- Да --> L["Отбросить пакет<br>"]

    K -- Нет --> M["Поиск в таблице маршрутизации"]

    M --> N{"Достигнут пункт назначения?"}

    N -- Нет --> O["Выбрать следующий hop<br>на основе SPF-дерева"]

    O --> I

    H --> I

    N -- Да --> P["Пакет доставлен"]

    L --> F

    P --> n1["Конец"]

    F --> n1

```
#### Задание 3.

Вспомним как работает протокол ssh. Составим блок-схему подключения одного узла к другому через ssh

**Условия**: 
- Должно быть условие проверки пароля
- У пользователя есть 3 попытки ввода пароля
- Должны быть блоки ввода и вывода информации
```mermaid
flowchart TD

    A("Начало: Клиент инициирует подключение") --> B["Установка TCP-соединения с портом 22 сервера"]

    B --> C{"Соединение установлено?"}

    C -- "Нет" --> D["Ошибка сети/ Сервер недоступен"]

    D-->1[/"Вывод ошибки на экран"/]

    1 --> E("Завершение работы")

    C -- "Да" --> F["Обмен версиями протокола SSH Клиент и Сервер"]

    F --> G["Обмен ключами и алгоритмами"]

    G --> H["Сервер отправляет свой открытый ключ хоста"]

    H --> I["Клиент проверяет ключ хоста в known_hosts"]

    I --> J{"Ключ найден и совпадает?"}

    J -- "Нет" --> K{"Первое подключение?"}

    K -- "Нет" --> L["Предупреждение о возможной MITM-атаке"]

    L --> M[/"Запрос пользователю: Продолжить?"/]

    M --> N{"Пользователь подтверждает?"}

    N -- "Нет" --> E

    N -- "Да" --> O["Запись ключа в known_hosts"]

    K -- "Да" --> O

    J -- "Да" --> O

    O --> P["Клиент шифрует секрет открытым ключом сервера"]

    P --> Q["Стороны вычисляют общий сессионный ключ"]

    Q --> R["Начало защищенного обмена"]

    R --> S["Клиент отправляет запрос на аутентификацию пользователя"]

    S --> T["Сервер запрашивает пароль"]

  

    subgraph ПопыткиВвода ["Цикл аутентификации: 3 попытки"]

        T --> U[/"Пользователь вводит пароль"/]

        U --> V["Клиент шифрует и отправляет пароль"]

        V --> W["Сервер проверяет пароль"]

        W --> X{"Пароль верный?"}

    end

  

    X -- "Да" --> Y["Аутентификация успешна"]

    Y --> Z["Сервер предоставляет доступ к оболочке shell"]

    Z --> AA[/"Интерактивная сессия"/]

    AA --> AB["Работа в сессии..."]

    AB --> AC["Пользователь выходит exit"]

    AC --> E

  

    X -- "Нет" --> CC["Сервер отправляет ошибку"]

    CC-->2[/"Вывод ошибки на экран"/]

    2 --> DD["Счетчик попыток: -1"]

    DD --> EE{"Остались попытки? >0"}

    EE -- "Да, есть" --> T

    EE -- "Нет" --> FF["Сервер разрывает соединение"]

    FF --> E
```
#### Задание 4
**Вариант 3**
Вывести на экран таблицу умножения для числа K (где K также вводится пользователем).

*Пояснение*: Нужно организовать цикл от 1 до 10, на каждом шаге которого будет выводиться произведение K на текущее значение счетчика цикла.
```mermaid
flowchart TD

    A("Начало") --> B[/"Ввод числа K"/]

    B --> C["i = 1"]

    C --> D{"i <= 10 ?"}

    D -- "Да" --> E["Действие K × i"]

    E-->EE[/"Вывод результата"/]

    EE --> F["i = i + 1"]

    F --> D

    D -- "Нет" --> G("Конец")
```
